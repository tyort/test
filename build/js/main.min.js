!function(){"use strict";const e=(e,t,n)=>{switch(n){case"afterBegin":e.prepend(t);break;case"afterEnd":e.after(t);break;default:e.append(t)}},t=e=>{const t=document.createElement("div");return t.innerHTML=e,t};const n=document.querySelector("#drop-area"),r=["dragenter","dragover","dragleave","drop"];function o(e){let t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){let e=document.createElement("img");e.src=t.result,document.getElementById("gallery").appendChild(e)}}console.log(n),r.forEach(e=>{n.addEventListener(e,e=>{e.preventDefault(),e.stopPropagation()})}),r.forEach((e,t)=>{t<=1?n.addEventListener(e,()=>n.classList.toggle("highlight",!0)):n.addEventListener(e,()=>n.classList.toggle("highlight",!1))}),n.addEventListener("drop",e=>{[...e.dataTransfer.files].forEach(o)});const a=document.querySelector("body"),c=document.querySelector(".page-link"),l=document.querySelector(".photo-gallery");c.querySelector("form").addEventListener("submit",n=>{n.preventDefault();n.target.querySelector("#link-phone").value;(function(e,t,n=null){return fetch(t,{method:e,itemData:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(e=>e.ok?e.json():e.json().then(e=>{const t=new Error("Что-то пошло не так");throw t.data=e,t}))})("GET","https://don16obqbay2c.cloudfront.net/frontend-test-task/gallery-images.json").then(n=>{const r=d(n.galleryImages);e(l,t(r),"afterBegin"),l.querySelector("div").classList.add("photo-gallery__inner"),i()}).catch(e=>console.log(e))});const i=()=>{[...l.querySelector(".photo-gallery__inner").children].forEach(n=>{n.addEventListener("click",()=>{let r=t(s(n.outerHTML)).firstChild;e(a,r,"afterBegin"),r=document.querySelector(".photo-container"),r.querySelector("img").style.width=n.dataset.width+"px",r.querySelector("img").style.height=n.dataset.height+"px",r.addEventListener("click",e=>u(e))})})},d=e=>e.map((e,t)=>`<img \n          src="${e.url}"\n          data-width="${e.width}"\n          data-height="${e.height}"\n          data-count="${t}"\n          alt=""\n        >`).join(""),s=e=>`<div class="photo-container">\n      ${e}\n      <button class="button-wide">Удалить фото</button>\n    </div>`,u=e=>{const t=document.querySelector(".photo-container");if("button-wide"===e.target.className){const t=e.target.parentElement.querySelector("img").dataset.count;[...document.querySelector(".photo-gallery__inner").children].find(e=>e.dataset.count===t).remove()}t.removeEventListener("click",u),t.remove()}}();
//# sourceMappingURL=main.min.js.map

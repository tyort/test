{"version":3,"sources":["source/js/components/desire.js","source/js/formulas.js"],"names":["document","querySelector","pageDesire","form","addEventListener","evt","preventDefault","method","url","itemData","fetch","JSON","stringify","headers","Content-Type","then","response","ok","json","error","e","Error","data","sendRequest","target","value","console","log","catch","err"],"mappings":"yBAAaA,SAASC,cAAc,QAApC,MACMC,EAAaF,SAASC,cAAc,gBACpCE,EAAsB,OAAfD,EAAsB,KAAOA,EAAWD,cAAc,QAC9CD,SAASC,cAAc,uBAM5CE,EAAKC,iBAAiB,SAAWC,IAC/BA,EAAIC,kBCoCC,SAAqBC,EAAQC,EAAKC,EAAW,MAKlD,OAAOC,MAAMF,EAAK,CAChBD,OAAQA,EACRE,SAAUE,KAAKC,UAAUH,GACzBI,QAPc,CACdC,eAAgB,sBAQfC,KAAKC,GACAA,EAASC,GACJD,EAASE,OAGXF,EAASE,OACbH,KAAKI,IACJ,MAAMC,EAAI,IAAIC,MAAM,uBAEpB,MADAD,EAAEE,KAAOH,EACHC,MDpDdG,CAAY,MAFOlB,EAAImB,OAAOvB,cAAc,iBAAiBwB,OAG1DV,KAAKO,GAAQI,QAAQC,IAAIL,IACzBM,MAAMC,GAAOH,QAAQC,IAAIE","file":"main.min.js","sourcesContent":["const body = document.querySelector(`body`);\nconst pageDesire = document.querySelector(`.page-desire`);\nconst form = pageDesire === null ? null : pageDesire.querySelector(`form`);\nconst successPopup = document.querySelector(`.page-success-popup`);\nimport ClientsStorage from '../storage/storage.js';\nimport {sendRequest} from '../formulas';\n\n\n\nform.addEventListener(`submit`, (evt) => {\n  evt.preventDefault();\n  const requestURL = evt.target.querySelector(`#desire-phone`).value\n\n  sendRequest('GET', requestURL)\n    .then(data => console.log(data))\n    .catch(err => console.log(err))\n});\n\n\n","export const catalogueItems = [\n  [`Общие`, `item-star`],\n  [`Академические`, `item-cap`],\n  [`Стажировки`, `item-portfolio`],\n  [`Волонтёрство`, `item-heart`],\n  [`Религиозные`, `item-candles`],\n];\n\nexport const renderComponent = (container, element, place) => {\n  switch (place) {\n    case `afterBegin`:\n      container.prepend(element.getElement());\n      break;\n    case `afterEnd`:\n      container.after(element.getElement());\n      break;\n    default:\n      container.append(element.getElement());\n  }\n};\n\nexport const createElement = (template) => {\n  const newElement = document.createElement(`div`);\n  newElement.innerHTML = template;\n  return newElement.firstChild;\n};\n\nexport const onEscKeyDown = (evt) => {\n  if (evt.key === `Escape` || evt.key === `Esc`) {\n    hideElement();\n  }\n};\n\nexport const hideElement = () => {\n  const requestPopup = document.querySelector(`.page-request-popup`);\n  const successPopup = document.querySelector(`.page-success-popup`);\n\n  successPopup.classList.toggle(`visually-hidden`, true);\n  requestPopup.classList.toggle(`visually-hidden`, true);\n  document.removeEventListener(`keydown`, onEscKeyDown);\n  document.querySelector(`body`).style.overflow = `visible`;\n};\n\nexport const phoneSample = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/;\nexport const nameSample = /^[a-zA-Zа-яёА-ЯЁ]+$/u;\n\nexport function sendRequest(method, url, itemData = null) {\n  const headers = {\n    'Content-Type': 'application/json'\n  }\n\n  return fetch(url, {\n    method: method,\n    itemData: JSON.stringify(itemData),\n    headers: headers\n  })\n    .then(response => {\n      if (response.ok) {\n        return response.json()\n      }\n\n      return response.json()\n        .then(error => {\n          const e = new Error('Что-то пошло не так')\n          e.data = error\n          throw e\n        })\n    })\n}\n"]}